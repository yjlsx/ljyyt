<!DOCTYPE html>
<html lang="zh-CN">
[...Previous HTML content remains the same until script section...]

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- 视频数据 -->
  <script src="videos/video_data.js"></script>
  
  <!-- 主脚本 -->
  <script>
    console.log('🚀 开始加载主脚本');
    
    // 检查videoData是否加载
    if (typeof videoData === 'undefined') {
      console.error('❌ videoData 未定义');
      var videoData = [];
    } else {
      console.log('✅ videoData 已加载，数量:', videoData.length);
    }
    
    // 音乐数据
    const musicData = [
      {
        id: 1,
        title: "和雪兰 - 吉祥的日子",
        artist: "和雪兰",
        src: "https://res.wx.qq.com/voice/getvoice?mediaid=MzI2NzU3NDk4Ml8xMDAwMTk1ODI=",
        cover: "https://mmbiz.qpic.cn/sz_mmbiz_jpg/tfpibRIwbCVic8Y7J4gj1eLOpBTqic5g3IR62s444BlEibp8xGFR1np4jC42ZefZZHq5ic0HUYkb2pbKibWAPPjfNQBg/0?wx_fmt=jpeg",
        duration: 180
      },
      {
        id: 2,
        title: "和锦 - 阿腊古金歌",
        artist: "和锦",
        src: "https://res.wx.qq.com/voice/getvoice?mediaid=MzI2NzU3NDk4Ml8xMDAwMTAyODY=",
        cover: "https://mmbiz.qpic.cn/sz_mmbiz_jpg/tfpibRIwbCVic7GpubRvt0gvUxs0rRxbEePTFjQE9zjNNjueQYuKk6s9ibOODUMfY4XlxKjxiaU4So1NnlU3Sg9GFg/0?wx_fmt=jpeg",
        duration: 240
      }
    ];
    
    console.log('✅ musicData 加载完成，数量:', musicData.length);
    
    // 获取DOM元素
    const audioPlayer = document.getElementById('audio-player');
    const playBtn = document.getElementById('play-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const progressBar = document.getElementById('progress-bar');
    const progressContainer = document.getElementById('progress-container');
    const currentTimeEl = document.getElementById('current-time');
    const totalTimeEl = document.getElementById('total-time');
    const volumeSlider = document.getElementById('volume-slider');
    const currentTitle = document.getElementById('current-title');
    const currentArtist = document.getElementById('current-artist');
    const currentCover = document.getElementById('current-cover');
    const musicListContainer = document.getElementById('music-list');
    const videoListContainer = document.getElementById('video-list');
    
    let currentTrackIndex = 0;
    let isPlaying = false;
    let currentMediaType = 'music';
    
    // 格式化时间
    function formatTime(seconds) {
      if(isNaN(seconds) || seconds <= 0) return '0:00';
      const min = Math.floor(seconds / 60);
      const sec = Math.floor(seconds % 60);
      return min + ':' + (sec < 10 ? '0' : '') + sec;
    }
    
    // 渲染音乐列表
    function renderMusicList() {
      console.log('🎵 开始渲染音乐列表...');
      if (!musicListContainer) {
        console.error('❌ musicListContainer 未找到');
        return;
      }
      
      musicListContainer.innerHTML = '';
      
      musicData.forEach(function(track, index) {
        var col = document.createElement('div');
        col.className = 'col-md-6 col-lg-4 mb-3';
        
        var card = document.createElement('div');
        card.className = 'card music-card';
        card.dataset.id = track.id;
        card.dataset.index = index;
        
        card.innerHTML = 
          '<div class="card-body d-flex align-items-center">' +
            '<img src="' + track.cover + '" alt="' + track.title + '" class="album-cover me-3">' +
            '<div class="flex-grow-1">' +
              '<h6 class="card-title mb-1">' + track.title + '</h6>' +
              '<p class="card-text text-muted mb-1">' + track.artist + '</p>' +
              '<small class="text-muted">时长: ' + formatTime(track.duration) + '</small>' +
            '</div>' +
            '<i class="fas fa-music text-primary ms-2" style="font-size: 1.2rem;"></i>' +
          '</div>';
        
        card.addEventListener('click', function() {
          console.log('点击了音乐:', track.title);
        });
        
        col.appendChild(card);
        musicListContainer.appendChild(col);
      });
      
      console.log('✅ 音乐列表渲染完成');
    }
    
    // 渲染视频列表
    function renderVideoList() {
      console.log('🎬 开始渲染视频列表...');
      if (!videoListContainer) {
        console.error('❌ videoListContainer 未找到');
        return;
      }
      
      if (videoData.length === 0) {
        videoListContainer.innerHTML = '<div class="col-12 text-center text-danger">暂无视频数据</div>';
        console.warn('⚠️ videoData 为空');
        return;
      }
      
      videoListContainer.innerHTML = '';
      
      videoData.forEach(function(track, index) {
        var col = document.createElement('div');
        col.className = 'col-md-6 col-lg-4 mb-4';
        
        var card = document.createElement('div');
        card.className = 'card video-card';
        card.dataset.id = track.id;
        card.dataset.index = index;
        
        card.innerHTML = 
          '<div class="card-body p-0">' +
            '<div class="position-relative">' +
              '<img src="' + track.cover + '" alt="' + track.title + '" class="card-img-top" style="height: 200px; object-fit: cover;">' +
              '<div class="position-absolute top-50 start-50 translate-middle">' +
                '<i class="fas fa-play-circle text-white" style="font-size: 3rem; opacity: 0.8;"></i>' +
              '</div>' +
              '<div class="position-absolute bottom-0 start-0 end-0 p-2" style="background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);">' +
                '<span class="text-white small">' + formatTime(track.duration) + '</span>' +
              '</div>' +
            '</div>' +
            '<div class="p-3">' +
              '<h6 class="card-title mb-1">' + track.title + '</h6>' +
              '<p class="card-text text-muted mb-0 small">' + track.artist + '</p>' +
            '</div>' +
          '</div>';
        
        card.addEventListener('click', function() {
          console.log('点击了视频:', track.title);
          window.location.href = 'video-player.html?id=' + track.id;
        });
        
        col.appendChild(card);
        videoListContainer.appendChild(col);
      });
      
      console.log('✅ 视频列表渲染完成');
    }
    
    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', function() {
      console.log('🚀 DOM加载完成，开始初始化...');
      
      // 渲染音乐列表
      renderMusicList();
      
      // 渲染视频列表
      renderVideoList();
      
      console.log('✅ 页面初始化完成');
    });
  </script>
</body>
</html>
